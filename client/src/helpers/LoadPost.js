import axios from 'axios';
import { RETRIEVE_POST, RETRIEVE_POSTS } from 'constants/links.js';
import { addFirstParamToUrl, addParamToUrl } from 'helpers/FetchServer'

export const fetchPost = async (postId, withComment = false) => {
  let url = RETRIEVE_POST + "?postId=" + postId;
  if (withComment) {
    url = addParamToUrl(url, 'withComment', 'true');
  }
  let post = null;
  await axios
    .post(url, {})
    //.post('/api/TestPost', {})
    .then(response => {
      const { data } = response;
      post = data;
    })
    .catch(function (error) {
      console.log(error);
    });
  return post;
}

export const fetchPosts = async (maxCreationTime, limit, position, userId, tagName) => {
  let url = RETRIEVE_POSTS;
  url = addFirstParamToUrl(url, 'maxCreationTime', maxCreationTime);
  url = addParamToUrl(url, 'limit', limit);
  if (position !== '')
    url = addParamToUrl(url, 'position', position);
  if (userId !== '')
    url = addParamToUrl(url, 'userId', userId);
  if (tagName !== '')
    url = addParamToUrl(url, 'tagName', tagName);
  let posts = null;
  await axios
    .post(url, {})
    //.post('/api/TestPosts', {})
    .then(response => {
      const { data } = response;
      posts = data.posts;
    })
    .catch(function (error) {
      console.log(error);
    });
  return posts;
}

export const fetchPostsWithLocation = async (maxCreationTime, limit, bound) => {
  let url = RETRIEVE_POSTS;
  url = addFirstParamToUrl(url, 'maxCreationTime', maxCreationTime);
  url = addParamToUrl(url, 'limit', limit);
  url = addParamToUrl(url, 'swLat', bound.sw.lat);
  url = addParamToUrl(url, 'swLng', bound.sw.lng);
  url = addParamToUrl(url, 'neLat', bound.ne.lat);
  url = addParamToUrl(url, 'neLng', bound.ne.lng);
  let posts = null;
  await axios
    .post(url, {})
    .then((response) => {
      const { data } = response;
      posts = data.posts;
    })
    .catch((error) => {
      console.log(error);
    })
  return DUMMY_POSTS.posts;
};

const DUMMY_POSTS = {"posts":[{"creationTime":1563962636392,"author":{"avatarUrl":{"value":"/static/media/user.svg"},"bioText":"","id":"118390528968028844749","username":"hkim@codeustudents.com"},"likedUserIds":["102054012954120611259"],"location":{"latitude":37.4959333,"placeId":"ChIJd6Ov5D-efDURh623dIz3wQA","longitude":126.89020759999998},"descriptionText":"<p>Testing! Hello Everyone<\/p>","id":"88950666-bf69-47a3-800a-756db538ee23","postImages":[{"imageUrl":{"value":"https://www.googleapis.com/download/storage/v1/b/image_file_bucket/o/Qobfk7v8-2019-07-24-100358603.jpg?generation=1563962640158345&alt=media"},"imageDescription":"Image","postId":"88950666-bf69-47a3-800a-756db538ee23","id":"cdb5ad25-0af3-4283-a356-4c8e54a10e21","orderInPost":0},{"imageUrl":{"value":"https://www.googleapis.com/download/storage/v1/b/image_file_bucket/o/N1ej3TYY-2019-07-24-100400186.jpg?generation=1563962640257223&alt=media"},"imageDescription":"A2 WLOP","postId":"88950666-bf69-47a3-800a-756db538ee23","id":"1625bdbe-8acc-49c0-be99-89d1277285a4","orderInPost":1}],"tags":[{"id":"81606094-4113-410c-a9b9-e46eb9cbae4d","tagName":"Metropolitan_area"},{"id":"04b9bb86-7629-41db-8adf-87a30acf747b","tagName":"Metropolis"},{"id":"ef5fe7ba-6240-4700-848b-6290b86cae93","tagName":"Urban_area"},{"id":"09e73792-b636-4db9-9978-b16f315d9216","tagName":"Sky"},{"id":"7d75c494-d26d-4643-8c76-3058bafc6a2a","tagName":"A2"}]},{"creationTime":1563884822802,"author":{"avatarUrl":{"value":"/static/media/user.svg"},"bioText":"","id":"102125473937055689339","username":"damadeo@codeustudents.com"},"likedUserIds":["118390528968028844749","116530939333556981755","102054012954120611259"],"location":{"latitude":37.78971471778288,"placeId":"ChIJsc_3vHqAhYARG50dM6228cE","longitude":-122.39097219098994},"descriptionText":"<p>Google san fransisco!<\/p>","id":"5dc403d3-ffc9-46e8-9f9a-bde932d2ba22","postImages":[{"imageUrl":{"value":"https://www.googleapis.com/download/storage/v1/b/image_file_bucket/o/rPZULWfh-2019-07-23-122704887.jpg?generation=1563884827291885&alt=media"},"imageDescription":"Google","postId":"5dc403d3-ffc9-46e8-9f9a-bde932d2ba22","id":"6ce8912a-db3d-441c-ac63-72057c8cf55a","orderInPost":0}],"tags":[{"id":"b361398c-1616-4644-bb07-ac09f7784519","tagName":"google"}]},{"creationTime":1563831738781,"author":{"avatarUrl":{"value":"/static/media/user.svg"},"bioText":"","id":"117793155984946052647","username":"mbakal@codeustudents.com"},"likedUserIds":["118390528968028844749","116530939333556981755","102054012954120611259"],"location":{"latitude":42.280999736747404,"placeId":"ChIJcTnCG16uPIgRSi8oc9Lh9wk","longitude":-83.72377893622422},"descriptionText":"<p>The arboretum is a really cool place to study!<\/p>","id":"3ed8aaec-084d-49c6-8a65-d64bdb9c98f8","postImages":[{"imageUrl":{"value":"https://www.googleapis.com/download/storage/v1/b/image_file_bucket/o/ZwGDDwFC-2019-07-22-214218880.jpg?generation=1563831739616929&alt=media"},"imageDescription":"Nichols Arboretum, Ann Arbor, MI","postId":"3ed8aaec-084d-49c6-8a65-d64bdb9c98f8","id":"7b44f0f6-b598-486c-9f11-667194aca75f","orderInPost":0}],"tags":[{"id":"6f06e6dc-1ffe-4415-bdf3-40ebc83f6c08","tagName":"Nature"},{"id":"6037a9b6-3183-4a0e-86ba-26580ed3fd47","tagName":"Outside"},{"id":"d95502c5-d137-447f-96df-a15631733908","tagName":"Park"},{"id":"6b1f596e-2430-4f63-99e5-cfd9e2fd20e9","tagName":"Go_Blue"},{"id":"863a5685-e032-4493-8cf7-65e9b86c9839","tagName":"Ann_Arbor"}]},{"creationTime":1563819074792,"author":{"avatarUrl":{"value":"/static/media/user.svg"},"bioText":"","id":"117575637210060303648","username":"minqic@codeustudents.com"},"likedUserIds":["117575637210060303648","118390528968028844749","116530939333556981755","102054012954120611259"],"location":{"latitude":37.789159501342716,"placeId":"ChIJtRD-MXuAhYARhYRuKKm5qQk","longitude":-122.39324883815544},"descriptionText":"<p>This is where I get my coffee <em>most<\/em> of the time.<\/p>","id":"2d2acede-b14a-4e42-b75c-816be86fb0c2","postImages":[{"imageUrl":{"value":"https://www.googleapis.com/download/storage/v1/b/image_file_bucket/o/mrmqlvbq-2019-07-22-181116085.jpeg?generation=1563819077118726&alt=media"},"imageDescription":"philz coffee","postId":"2d2acede-b14a-4e42-b75c-816be86fb0c2","id":"61728ad8-915b-439a-8169-091a30e8a9f7","orderInPost":0}],"tags":[{"id":"19bb2f49-8a3f-4fe9-8a91-a5cfb50147ad","tagName":"philz"},{"id":"69c6391e-40b3-42a9-b475-c885fb6ed354","tagName":"coffee"}]},{"creationTime":1563715831696,"author":{"avatarUrl":{"value":"https://scontent.fhph1-1.fna.fbcdn.net/v/t1.0-9/26195982_314414552401860_673476996156876329_n.jpg?_nc_cat=109&_nc_oc=AQm-6jTbDu9EvcAx7aN3xH2La0XZifNPmCfKmawSrqVkx6rwjjb1U1lXRnBo1kPNptE&_nc_ht=scontent.fhph1-1.fna&oh=5260df196ccb47bc5cd18a228485def3&oe=5DB05953"},"bioText":"","id":"102855024025668661378","username":"alwaysbelieve239@gmail.com"},"likedUserIds":["118390528968028844749","111843582872314667010","116530939333556981755","102054012954120611259"],"location":{"latitude":20.6584052,"placeId":"ChIJRyTcbdTGNTERHes4Q6Ysct4","longitude":106.0599319},"descriptionText":"<p>Hello everyone. Welcome to our team's project, Far From Home - a site where you can upload pictures with location. With this website, you can share the scenery around you with other people, and see others people around you.<\/p> \n<p>Currently, this website is not completed. Possible upcoming features are:<\/p> \n<ul> \n <li>An Explore Page - a news feed where posts are placed on a map. You can explore posts from around your location, or around famous locations in the world.<\/li> \n <li>The ability to change and display your avatar, username, birthday and bio text.<\/li> \n <li>The ability to delete a post or comment that you posted.<\/li> \n <li>A prettier UI.<\/li> \n<\/ul> \n<p>But for now, you can explore the basic of our site. If you find any inconvenience while using our site, feel free to leave a post or comment on the site. We appreciate your supports and suggestion.<\/p> \n<p>Thank you.<\/p>","id":"3e3e2a41-b2d0-474d-a268-908aee733b18","postImages":[{"imageUrl":{"value":"https://www.googleapis.com/download/storage/v1/b/image_file_bucket/o/ygXZBMcj-2019-07-21-133034083.jpg?generation=1563715836991725&alt=media"},"imageDescription":"","postId":"3e3e2a41-b2d0-474d-a268-908aee733b18","id":"d666a300-2d0b-4edb-97ca-c3b88e76674a","orderInPost":0}],"tags":[{"id":"a2d30f2b-e3c1-4e9e-b8a1-e5c621c2630d","tagName":"Announcement"},{"id":"2420417a-fe59-4429-95bf-5de7ea394cc7","tagName":"Landmark"},{"id":"8ed25d96-482f-497f-9a05-94aea9058def","tagName":"Bridge"},{"id":"000e2892-8424-4d8d-87c8-ad39fdf3ed31","tagName":"Mountain"},{"id":"09e73792-b636-4db9-9978-b16f315d9216","tagName":"Sky"},{"id":"1510ea3b-d9b6-44f5-bb3f-3fcd8366b388","tagName":"Tourism"}]},{"creationTime":1563692005674,"author":{"avatarUrl":{"value":"/static/media/user.svg"},"bioText":"","id":"100837205801338291543","username":"janeshin059@gmail.com"},"likedUserIds":["118390528968028844749","116530939333556981755","108177621623560004664"],"location":{"latitude":37.4877496,"placeId":"ChIJD5xg4SekfDUR_K67DLXJSQ0","longitude":127.0708054},"descriptionText":"<p>Hi ðŸ˜ŠðŸ˜Š<\/p>","id":"6662fe28-df10-4e40-a562-d10be48654b6","postImages":[{"imageUrl":{"value":"https://www.googleapis.com/download/storage/v1/b/image_file_bucket/o/3HlSf7Tr-2019-07-21-065325965.jpg?generation=1563692007834568&alt=media"},"imageDescription":"Seoul,Korea","postId":"6662fe28-df10-4e40-a562-d10be48654b6","id":"24d0e37f-7187-4ee1-be7f-d49f65a9d717","orderInPost":0}],"tags":[]},{"creationTime":1563687294165,"author":{"avatarUrl":{"value":"/static/media/user.svg"},"bioText":"","id":"114082793203975263491","username":"itsnamgyu@gmail.com"},"likedUserIds":["118390528968028844749","114082793203975263491"],"location":{"latitude":37.41922787051,"placeId":"ChIJv7MMjGDPj4ARSbvRhAb8EZ0","longitude":-121.85620189053752},"descriptionText":"Hello! \n<blockquote>\n <strong>My name is Namgyu Ho!<\/strong>\n<\/blockquote>","id":"83011915-166f-4578-8684-b3ce2d865d59","postImages":[{"imageUrl":{"value":"https://www.googleapis.com/download/storage/v1/b/image_file_bucket/o/UhC6zjgM-2019-07-21-053457071.jpg?generation=1563687301980386&alt=media"},"imageDescription":"","postId":"83011915-166f-4578-8684-b3ce2d865d59","id":"b2ae0364-e956-4450-8198-3e60d620fbd1","orderInPost":0}],"tags":[{"id":"09e73792-b636-4db9-9978-b16f315d9216","tagName":"Sky"},{"id":"397fe03c-3f95-4725-92ea-f8048f3b6bdd","tagName":"Sand"},{"id":"a35ce264-2f49-4358-ac30-dfa02a78c366","tagName":"Natural_environment"},{"id":"1941e186-a91c-4ffe-a020-8eef5f8f1846","tagName":"Desert"},{"id":"6f06e6dc-1ffe-4415-bdf3-40ebc83f6c08","tagName":"Nature"}]},{"creationTime":1563669701776,"author":{"avatarUrl":{"value":"/static/media/user.svg"},"bioText":"","id":"111843582872314667010","username":"leesuyeon0506@gmail.com"},"likedUserIds":[],"location":{"latitude":37.608048590125485,"placeId":"ChIJpW9FNrOwfDURRKnr_GcxdjU","longitude":127.13991903181076},"descriptionText":"<p>testing for korean tag<\/p>","id":"42e89fd3-02ff-474a-a84d-cac2bee24088","postImages":[{"imageUrl":{"value":"https://www.googleapis.com/download/storage/v1/b/image_file_bucket/o/5mMyfFVp-2019-07-21-004142171.jpeg?generation=1563669703586750&alt=media"},"imageDescription":"","postId":"42e89fd3-02ff-474a-a84d-cac2bee24088","id":"1ccdd1b6-3baa-4d0e-abaf-a258f3986b5d","orderInPost":0}],"tags":[{"id":"eae3196f-27f7-410b-a35d-dfb8bf00606c","tagName":""},{"id":"50f42688-39ff-42e9-9da5-71bafdda39fb","tagName":"_"},{"id":"eae3196f-27f7-410b-a35d-dfb8bf00606c","tagName":""},{"id":"b429067b-57cb-4939-a0d0-da329fe66704","tagName":"_"},{"id":"4c4f17c3-d570-460e-9d8b-cb5697a6b5e5","tagName":"City"},{"id":"ef5fe7ba-6240-4700-848b-6290b86cae93","tagName":"Urban_area"},{"id":"81606094-4113-410c-a9b9-e46eb9cbae4d","tagName":"Metropolitan_area"},{"id":"4763d4c8-c082-47d7-a8fb-439b9d93a328","tagName":"Neighbourhood"},{"id":"428c0e32-c3e3-4097-807c-37de2be53475","tagName":"Town"}]},{"creationTime":1563669310672,"author":{"avatarUrl":{"value":"/static/media/user.svg"},"bioText":"","id":"111843582872314667010","username":"leesuyeon0506@gmail.com"},"likedUserIds":[],"location":{"latitude":37.60804131448131,"placeId":"ChIJCRMutbOwfDURghYoCoC5B2I","longitude":127.13992354006105},"descriptionText":"<p>ì•„ì•ˆã„´ë…€ë…•<\/p>","id":"5b703ada-4d1f-4175-9516-d6e32e0d1e46","postImages":[{"imageUrl":{"value":"https://www.googleapis.com/download/storage/v1/b/image_file_bucket/o/fzKYJKzk-2019-07-21-003510787.jpeg?generation=1563669311850290&alt=media"},"imageDescription":"","postId":"5b703ada-4d1f-4175-9516-d6e32e0d1e46","id":"6e85c39b-cc30-4ac3-84cc-775a9e8f7a09","orderInPost":0}],"tags":[]},{"creationTime":1563669121266,"author":{"avatarUrl":{"value":"/static/media/user.svg"},"bioText":"","id":"111843582872314667010","username":"leesuyeon0506@gmail.com"},"likedUserIds":["118390528968028844749"],"location":{"latitude":37.6080421504963,"placeId":"ChIJCRMutbOwfDURghYoCoC5B2I","longitude":127.13992460972135},"descriptionText":"í•˜í•œã„±êµ¬êµ­ã…‡ì–´ ã…Œí…Œí…Ÿí…ŒìŠ¤ìŠ½ìŠ¤íŠ¸","id":"d629c3e1-3294-4168-a28d-4ef98ec7ed35","postImages":[{"imageUrl":{"value":"https://www.googleapis.com/download/storage/v1/b/image_file_bucket/o/ZVCwHz2P-2019-07-21-003201477.jpeg?generation=1563669122880519&alt=media"},"imageDescription":"ã…‡ã…‡","postId":"d629c3e1-3294-4168-a28d-4ef98ec7ed35","id":"7e2fd6ad-8d17-49bb-a7aa-35339d1da1d7","orderInPost":0}],"tags":[{"id":"eae3196f-27f7-410b-a35d-dfb8bf00606c","tagName":""},{"id":"09e73792-b636-4db9-9978-b16f315d9216","tagName":"Sky"},{"id":"a1768a22-ff98-45ab-9574-1ed4c6ea015d","tagName":"Cloud"},{"id":"16a662b8-bea9-482f-b5de-6c4b344aca42","tagName":"Road"},{"id":"7f499617-299c-4454-ac5a-5c5e91d55745","tagName":"Morning"},{"id":"45b1cc76-42b8-40fc-b42f-f799eab73828","tagName":"Asphalt"}]},{"creationTime":1563634186785,"author":{"avatarUrl":{"value":"https://scontent.fhph1-1.fna.fbcdn.net/v/t1.0-9/26195982_314414552401860_673476996156876329_n.jpg?_nc_cat=109&_nc_oc=AQm-6jTbDu9EvcAx7aN3xH2La0XZifNPmCfKmawSrqVkx6rwjjb1U1lXRnBo1kPNptE&_nc_ht=scontent.fhph1-1.fna&oh=5260df196ccb47bc5cd18a228485def3&oe=5DB05953"},"bioText":"","id":"102855024025668661378","username":"alwaysbelieve239@gmail.com"},"likedUserIds":["118390528968028844749","102855024025668661378"],"location":{"latitude":21.005836546714836,"placeId":"ChIJ122rzHasNTERA32pB1sq6VU","longitude":105.84265447116161},"descriptionText":"<p>This is where I study - Hanoi University of Science and Technology.<\/p> \n<p>As you can see, now the location name is displayed under the timestamp.<\/p>","id":"7a7689cf-8720-4ae6-9e73-51bf911f34aa","postImages":[{"imageUrl":{"value":"https://www.googleapis.com/download/storage/v1/b/image_file_bucket/o/ySYHCnJx-2019-07-20-144948791.jpg?generation=1563634190178736&alt=media"},"imageDescription":"My University","postId":"7a7689cf-8720-4ae6-9e73-51bf911f34aa","id":"ca30948e-03e5-4a40-9968-f150c3d88fbd","orderInPost":0}],"tags":[{"id":"6f06e6dc-1ffe-4415-bdf3-40ebc83f6c08","tagName":"Nature"},{"id":"6f1c0180-fd32-48ce-9dbf-f791dac72b3b","tagName":"Property"},{"id":"ade275c8-1248-48ec-8c46-65e8b44f5e03","tagName":"Real_estate"},{"id":"ba95eb4d-4363-43a2-a933-400b7fb5f33f","tagName":"Architecture"},{"id":"a124f788-ba5c-42b5-ad57-82afff2ea3d0","tagName":"Leaf"}]}]}
